<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>생존! 내가 살아남는다</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { background-color: #f8fafc; }
    .ratio-16x9 { position: relative; width: 100%; padding-top: 56.25%; }
    .ratio-16x9 iframe { position: absolute; top:0; left:0; width:100%; height:100%; border:0; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel" data-presets="react,env">

const VideoIntro = ({onNext}) => {
  const [fireWatched, setFireWatched] = React.useState(false);
  const [eqWatched, setEqWatched] = React.useState(false);
  const ready = fireWatched && eqWatched;
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 p-6">
      <div className="max-w-5xl mx-auto">
        <h1 className="text-3xl font-bold text-gray-800 mb-4 text-center">🔥 재난 대비 영상 시청하기</h1>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div className="bg-white p-4 rounded-2xl shadow">
            <h2 className="text-xl font-bold mb-2">화재 예방</h2>
            <div className="ratio-16x9 mb-3">
              <iframe src="https://www.youtube.com/embed/UNg2QyQ7fTY" allowFullScreen></iframe>
            </div>
            <button onClick={()=>setFireWatched(true)} disabled={fireWatched}
              className={`w-full py-2 rounded-lg font-bold ${fireWatched?'bg-green-100 text-green-700':'bg-red-500 text-white'}`}>
              {fireWatched ? '✓ 시청 완료' : '시청 완료 표시'}
            </button>
          </div>
          <div className="bg-white p-4 rounded-2xl shadow">
            <h2 className="text-xl font-bold mb-2">지진 대비</h2>
            <div className="ratio-16x9 mb-3">
              <iframe src="https://www.youtube.com/embed/DgjtZSGQGHQ" allowFullScreen></iframe>
            </div>
            <button onClick={()=>setEqWatched(true)} disabled={eqWatched}
              className={`w-full py-2 rounded-lg font-bold ${eqWatched?'bg-green-100 text-green-700':'bg-orange-500 text-white'}`}>
              {eqWatched ? '✓ 시청 완료' : '시청 완료 표시'}
            </button>
          </div>
        </div>
        <div className="mt-6 text-center">
          <button onClick={onNext} disabled={!ready}
            className={`px-8 py-3 rounded-xl font-bold text-white ${ready?'bg-emerald-500 hover:bg-emerald-600':'bg-gray-300 cursor-not-allowed'}`}>
            {ready ? '생존가방 꾸리기 시작 →' : '두 영상을 모두 시청해주세요'}
          </button>
        </div>
      </div>
    </div>
  );
};

const Game = () => {
  const [page, setPage] = React.useState('video');

  return (
    <div>
      {page === 'video' && <VideoIntro onNext={()=>setPage('done')} />}
      {page === 'done' && (
        <div className="min-h-screen flex flex-col items-center justify-center text-center p-6">
          <h1 className="text-4xl font-bold text-gray-800 mb-4">🎒 생존가방 꾸리기 화면으로 이동하세요</h1>
          <p className="text-gray-600 mb-4">이제 다음 단계에서 생존 시뮬레이션이 시작됩니다.</p>
          <button onClick={()=>alert('생존가방 페이지가 연결됩니다.')}
            className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold">
            이동하기
          </button>
        </div>
      )}
    </div>
  );
};

ReactDOM.createRoot(document.getElementById('root')).render(<Game />);

  </script>
</body>
</html>
